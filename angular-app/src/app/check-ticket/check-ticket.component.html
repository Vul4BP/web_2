<div class="container">
  <h1>Validacija karte</h1>
  <div>
    <mat-form-field class='div-full-width'>
        <input matInput placeholder="ID Karte" [(ngModel)]="ticketId">
    </mat-form-field>
    <button mat-flat-button color="primary" class='matButtonStyle btn-left-w-32' (click)='checkTicket()'>Proveri</button>
    <mat-checkbox color="primary" [(ngModel)]="displayTicketData">Prikaži podatke karte</mat-checkbox>
    <pre *ngIf="message.length > 0" class='lblMessage' [ngClass]="{'lblError': messageIsError}">{{message}}</pre>
  </div>
  <!-- PRIKAZUJE PODATKE KARTE -->
  <div *ngIf="foundTicket != null">
    <h3>Detalji karte</h3>
    <table>
      <tr>
        <td><b>Id</b></td><td style='font-size: 0.88em'>{{ foundTicket.Id }}</td>
      </tr>
      <tr>
        <td><b>Tip</b></td><td>{{ foundTicket.Type }}</td>
      </tr>
      <tr>
        <td><b>Cena</b></td><td>{{ foundTicket.Price }}rsd</td>
      </tr>
      <tr>
        <td><b>Broj<br>korišćenja</b></td><td>{{ foundTicket.Usages }}</td>
      </tr>
      <tr>
        <td><b>Datum<br>kupovine</b></td><td>{{ foundTicket.DateOfPurchase | date: 'dd/MM/yyyy HH:mm' }}</td>
      </tr>
      <tr>
        <td><b>Važi do</b></td><td>{{ foundTicket.Expires | date: 'dd/MM/yyyy HH:mm' }}</td>
      </tr>
      <tr>
        <td><b>Kupac</b></td>
        <td *ngIf="foundTicket.User.Name != null">{{ foundTicket.User.Name }} {{foundTicket.User.Surname}}</td>
        <td *ngIf="foundTicket.User.Name == null">Karta je kupljena bez naloga</td>
      </tr>
    </table>
  </div>
</div>
